{"ast":null,"code":"var _jsxFileName = \"/Users/shengjiayu/Documents/GitHub/cs185-react/src/Components/Movies.js\";\nimport React, { Component } from 'react';\nimport MovieID from './Movie';\nimport Axios from 'axios';\nimport { PopupboxManager, PopupboxContainer } from 'react-popupbox';\nimport 'react-popupbox/dist/react-popupbox.css';\n\nconst mv = require('./movieId.json');\n\nconst mv2 = require('./movieId.txt');\n\nexport class Movies extends Component {\n  constructor() {\n    super();\n\n    this.lockScroll = () => {\n      console.log('lock');\n      document.body.style.overflow = 'hidden';\n    };\n\n    this.unlockScroll = () => {\n      console.log('unlock');\n      document.body.style.overflow = 'inherit';\n    };\n\n    this.displayMovies = () => {\n      return this.state.movies.map(movie => /*#__PURE__*/React.createElement(\"img\", {\n        className: \"movie\",\n        src: movie.Poster,\n        key: movie.Title,\n        alt: \"\",\n        onMouseEnter: this.dimPoster,\n        onMouseLeave: this.resetPoster,\n        onClick: this.displayLightbox.bind(this, movie),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 4\n        }\n      }));\n    };\n\n    this.displayLightbox = movie => {\n      const content = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"movLightbox-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"movLightbox-content\",\n        src: movie.Poster,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"movLightbox-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }\n      }, movie.Title), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"director\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }\n      }, \"Directed by: \", /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 48\n        }\n      }, movie.Director)), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }\n      }, movie.Plot), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"rating\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }\n      }, \"Rating: \", /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 41\n        }\n      }, movie.imdbRating))));\n      PopupboxManager.open({\n        content,\n        config: {\n          onOpen: this.lockScroll,\n          onClosed: this.unlockScroll\n        }\n      });\n    };\n\n    this.state = {\n      movies: []\n    };\n    this.wrapper = React.createRef();\n  }\n\n  componentDidMount() {\n    // MovieID.split('\\n').map((id, i) => {\n    // \treturn Axios.get('https://www.omdbapi.com/?apikey=' + 'ec05d9ae' + '&i=' + id)\n    // \t.then((response) => {\n    // \t\tlet movies = this.state.movies;\n    // \t\tmovies[i] = response.data\n    // \t\tthis.setState({movies});\n    // \t});\n    // });\n    mv.map((item, i) => {\n      return Axios.get('https://www.omdbapi.com/?apikey=' + 'ec05d9ae' + '&i=' + item.id).then(response => {\n        let movies = this.state.movies;\n        movies[i] = response.data;\n        this.setState({\n          movies\n        });\n      });\n    });\n  }\n\n  dimPoster(e) {\n    e.target.style.opacity = 0.5;\n  }\n\n  resetPoster(e) {\n    e.target.style.opacity = 1;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }\n    }, \"Movies\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movies\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }, this.displayMovies(), /*#__PURE__*/React.createElement(PopupboxContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 6\n      }\n    })));\n  }\n\n}\nexport default Movies;","map":{"version":3,"sources":["/Users/shengjiayu/Documents/GitHub/cs185-react/src/Components/Movies.js"],"names":["React","Component","MovieID","Axios","PopupboxManager","PopupboxContainer","mv","require","mv2","Movies","constructor","lockScroll","console","log","document","body","style","overflow","unlockScroll","displayMovies","state","movies","map","movie","Poster","Title","dimPoster","resetPoster","displayLightbox","bind","content","Director","Plot","imdbRating","open","config","onOpen","onClosed","wrapper","createRef","componentDidMount","item","i","get","id","then","response","data","setState","e","target","opacity","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MovieID from './Movie';\nimport Axios from 'axios';\nimport { PopupboxManager, PopupboxContainer } from 'react-popupbox';\nimport 'react-popupbox/dist/react-popupbox.css';\nconst mv = require('./movieId.json');\nconst mv2 = require('./movieId.txt');\n\nexport class Movies extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tmovies: []\n\t\t};\n\t\tthis.wrapper = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t// MovieID.split('\\n').map((id, i) => {\n\t\t// \treturn Axios.get('https://www.omdbapi.com/?apikey=' + 'ec05d9ae' + '&i=' + id)\n\t\t// \t.then((response) => {\n\t\t// \t\tlet movies = this.state.movies;\n\t\t// \t\tmovies[i] = response.data\n\n\t\t// \t\tthis.setState({movies});\n\t\t// \t});\n\t\t// });\n\t\tmv.map((item, i) => {\n\t\t\treturn Axios.get('https://www.omdbapi.com/?apikey=' + 'ec05d9ae' + '&i=' + item.id)\n\t\t\t.then((response) => {\n\t\t\t\tlet movies = this.state.movies;\n\t\t\t\tmovies[i] = response.data\n\n\t\t\t\tthis.setState({movies});\n\t\t\t});\n\t\t});\n\t}\n\n\tlockScroll = () => {\n\t\tconsole.log('lock')\n\t\tdocument.body.style.overflow = 'hidden'\n\t}\n\n\tunlockScroll = () => {\n\t\tconsole.log('unlock')\n\t\tdocument.body.style.overflow = 'inherit'\n\t}\n\n\tdisplayMovies = () => {\n\t\treturn this.state.movies.map((movie) => (\n\t\t\t<img className=\"movie\" src={movie.Poster}\n                key={movie.Title} alt=\"\"\n                onMouseEnter={this.dimPoster} onMouseLeave={this.resetPoster}\n\t\t\t\tonClick={this.displayLightbox.bind(this, movie)}/>\n\t\t));\n\t}\n\n\tdisplayLightbox = (movie) => {\n\t\tconst content = (\n\t\t\t\n\t\t\t<div className=\"movLightbox-container\">\n\t\t\t\t<img className=\"movLightbox-content\" src={movie.Poster} alt=\"\"/>\n\t\t\t\t<div className = \"movLightbox-info\">\n\t\t\t\t\t<span className = \"title\">{movie.Title}</span>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<span className = \"director\">Directed by: <b>{movie.Director}</b></span>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<p>{movie.Plot}</p>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<span className = \"rating\">Rating: <b>{movie.imdbRating}</b></span>\n\t\n\t\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t)\n\n\t\tPopupboxManager.open({content,\n\t\t\tconfig: {\n\t\t\t\tonOpen: this.lockScroll,\n\t\t\t\tonClosed: this.unlockScroll\n\t\t\t}\n\t\t});\n    }\n    dimPoster(e) {\n        e.target.style.opacity = 0.5;\n      }\n    \n    resetPoster(e) {\n        e.target.style.opacity = 1;\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Movies</h1>\n\t\t\t\t<div className=\"movies\">\n\t\t\t\t\t{this.displayMovies()}\n\n\t\t\t\t\t<PopupboxContainer />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\nexport default Movies;"]},"metadata":{},"sourceType":"module"}